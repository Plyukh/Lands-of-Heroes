# UI –û—á–µ—Ä–µ–¥–∏ —Ö–æ–¥–æ–≤ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üéØ –ß—Ç–æ —ç—Ç–æ?

–°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å —Ö–æ–¥–æ–≤ —Å—É—â–µ—Å—Ç–≤ –≤ –≤–∏–¥–µ 10 –∏–∫–æ–Ω–æ–∫ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞:
- **–ü–µ—Ä–≤–∞—è –∏–∫–æ–Ω–∫–∞** (—Å–∞–º–∞—è –ª–µ–≤–∞—è) - –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä–æ–º, –∂–µ–ª—Ç–∞—è —Ä–∞–º–∫–∞ (—Ç–µ–∫—É—â–∏–π —Ö–æ–¥)
- **–û—Å—Ç–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏** - –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –∑–µ–ª–µ–Ω–∞—è (—Å–æ—é–∑–Ω–∏–∫) –∏–ª–∏ –∫—Ä–∞—Å–Ω–∞—è (–≤—Ä–∞–≥) —Ä–∞–º–∫–∞
- –ò–∫–æ–Ω–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ö–æ–¥–∞

---

## üì¶ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ—Ñ–∞–± –∏–∫–æ–Ω–∫–∏

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject** –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `TurnOrderIcon`
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RectTransform` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∫–æ–Ω–∫–∏:

```
TurnOrderIcon (RectTransform, TurnOrderIcon.cs)
‚îú‚îÄ‚îÄ Frame (Image) - —Ä–∞–º–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ Background (Image) - —Ñ–æ–Ω
‚îÇ       ‚îî‚îÄ‚îÄ CreaturePortrait (Image + Outline) - –ø–æ—Ä—Ç—Ä–µ—Ç —Å—É—â–µ—Å—Ç–≤–∞
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

**TurnOrderIcon:**
- –†–∞–∑–º–µ—Ä: 100x100
- Pivot: 0.5, 0.5

**Frame (Image):**
- –†–∞–∑–º–µ—Ä: 100x100
- –¶–≤–µ—Ç: –ë–µ–ª—ã–π (–±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ)
- Sprite: –í–∞—à —Å–ø—Ä–∞–π—Ç —Ä–∞–º–∫–∏

**Background (Image):**
- –†–∞–∑–º–µ—Ä: 95x95 (—á—É—Ç—å –º–µ–Ω—å—à–µ —Ä–∞–º–∫–∏)
- –¶–≤–µ—Ç: –ü–æ –∂–µ–ª–∞–Ω–∏—é
- Sprite: –§–æ–Ω–æ–≤—ã–π —Å–ø—Ä–∞–π—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**CreaturePortrait (Image + Outline):**
- –†–∞–∑–º–µ—Ä: 75x75
- –¶–≤–µ—Ç: –ë–µ–ª—ã–π
- Sprite: –ë—É–¥–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
- **Outline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
  - Effect Distance: X=2, Y=2
  - Effect Color: –ß–µ—Ä–Ω—ã–π

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TurnOrderIcon

–ù–∞ –æ–±—ä–µ–∫—Ç–µ `TurnOrderIcon` –¥–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç `TurnOrderIcon.cs` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫–∏:

- **Frame Rect**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `Frame` (RectTransform)
- **Frame Image**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `Frame` (Image)
- **Background Image**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `Background` (Image)
- **Creature Image**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `CreaturePortrait` (Image)
- **Creature Rect**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `CreaturePortrait` (RectTransform)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤:**
- Active Frame Color: Yellow (255, 255, 0)
- Ally Frame Color: Green (0, 255, 0)
- Enemy Frame Color: Red (255, 0, 0)

### –®–∞–≥ 3: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –ø—Ä–µ—Ñ–∞–±

1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `TurnOrderIcon` –∏–∑ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ –ø–∞–ø–∫—É `Assets/Prefabs/UI/`
2. –£–¥–∞–ª–∏—Ç–µ –∏–∑ —Å—Ü–µ–Ω—ã (—Ç–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–µ—Ñ–∞–±)

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∫–æ–Ω–æ–∫

1. –í Canvas —Å–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject
2. –ù–∞–∑–æ–≤–∏—Ç–µ `TurnOrderContainer`
3. **–ù–ï –î–û–ë–ê–í–õ–Ø–ô–¢–ï** Horizontal Layout Group –≤—Ä—É—á–Ω—É—é - —Å–∫—Ä–∏–ø—Ç —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ RectTransform:
   - Anchor: Bottom-Left (–Ω–∏–∂–Ω–∏–π –ª–µ–≤—ã–π —É–≥–æ–ª)
   - –ü–æ–∑–∏—Ü–∏—è: –í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞, —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ Settings
   - –†–∞–∑–º–µ—Ä: Width = 1100, Height = 150 (–ø—Ä–∏–º–µ—Ä–Ω–æ)

### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä

1. –í —Å—Ü–µ–Ω–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π GameObject
2. –ù–∞–∑–æ–≤–∏—Ç–µ `TurnOrderUI`
3. –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç `TurnOrderUI.cs`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ:

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - **Turn Order Controller**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –æ–±—ä–µ–∫—Ç —Å `TurnOrderController`
   - **Creature Manager**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –æ–±—ä–µ–∫—Ç —Å `CreatureManager`

**UI:**
   - **Icon Prefab**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø—Ä–µ—Ñ–∞–± `TurnOrderIcon`
   - **Icons Container**: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `TurnOrderContainer`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:**
   - **Icon Spacing**: 0 (–∏–∫–æ–Ω–∫–∏ –≤–ø–ª–æ—Ç–Ω—É—é –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É)
   - **Left Padding**: 10 (–æ—Ç—Å—Ç—É–ø –æ—Ç –∫–Ω–æ–ø–∫–∏ Settings)

### –®–∞–≥ 6: –ì–æ—Ç–æ–≤–æ! ‚ú®

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É - –∏–∫–æ–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ Settings –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ö–æ–¥–∞!

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã

–í `TurnOrderIcon.cs`:
```csharp
private const float NORMAL_SIZE = 100f;              // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —Ä–∞–º–∫–∏
private const float ACTIVE_SIZE_MULTIPLIER = 1.25f;  // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π
private const float CREATURE_ICON_NORMAL_SIZE = 75f; // –†–∞–∑–º–µ—Ä –ø–æ—Ä—Ç—Ä–µ—Ç–∞
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∏–∫–æ–Ω–∫–∞–º–∏

–í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ `TurnOrderUI`:
- **Icon Spacing**: 0 = –≤–ø–ª–æ—Ç–Ω—É—é, 5 = —Å –Ω–µ–±–æ–ª—å—à–∏–º –æ—Ç—Å—Ç—É–ø–æ–º, 10 = –∑–∞–º–µ—Ç–Ω—ã–π –æ—Ç—Å—Ç—É–ø
- **Left Padding**: –û—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ Settings

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∫–æ–Ω–æ–∫

–í `TurnOrderUI.cs`:
```csharp
private const int MAX_VISIBLE_ICONS = 10; // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω–æ–µ —á–∏—Å–ª–æ
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞

–í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ `TurnOrderIcon` –ø—Ä–µ—Ñ–∞–±–∞:
- Active Frame Color - —Ü–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∏–∫–æ–Ω–∫–∏ (–∂–µ–ª—Ç—ã–π)
- Ally Frame Color - —Ü–≤–µ—Ç —Å–æ—é–∑–Ω–∏–∫–æ–≤ (–∑–µ–ª–µ–Ω—ã–π)
- Enemy Frame Color - —Ü–≤–µ—Ç –≤—Ä–∞–≥–æ–≤ (–∫—Ä–∞—Å–Ω—ã–π)

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

```
1. TurnOrderController.OnTurnStart (—Å–æ–±—ã—Ç–∏–µ)
   ‚Üì
2. TurnOrderUI.OnTurnStarted()
   ‚Üì
3. TurnOrderUI.UpdateIcons()
   ‚Üì
4. ClearIcons() - —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ
   ‚Üì
5. GetTurnQueueList() - –ø–æ–ª—É—á–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å
   ‚Üì
6. CreateIcon() –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞ (–º–∞–∫—Å 10)
   ‚Üì
7. TurnOrderIcon.Setup() - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–∏–∑—É–∞–ª
```

### –û—á–µ—Ä–µ–¥—å —Ö–æ–¥–æ–≤:

```
[–¢–µ–∫—É—â–µ–µ —Å—É—â–µ—Å—Ç–≤–æ] + [TurnOrderController.TurnQueue]
       ‚Üì
[Icon 0 (Active)] [Icon 1] [Icon 2] ... [Icon 9]
   –ñ–µ–ª—Ç–∞—è —Ä–∞–º–∫–∞    –¶–≤–µ—Ç–Ω—ã–µ —Ä–∞–º–∫–∏ (–∫—Ä–∞—Å–Ω/–∑–µ–ª–µ–Ω)
   –†–∞–∑–º–µ—Ä x1.25    –†–∞–∑–º–µ—Ä x1
```

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Assets/Scripts/UI/TurnOrder/
‚îú‚îÄ‚îÄ TurnOrderIcon.cs     - –û–¥–Ω–∞ –∏–∫–æ–Ω–∫–∞
‚îú‚îÄ‚îÄ TurnOrderUI.cs       - –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—á–µ—Ä–µ–¥–∏
‚îî‚îÄ‚îÄ SETUP_GUIDE.md       - –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ò–∫–æ–Ω–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `TurnOrderUI` –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—ã—Ç–∏—è  
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `iconPrefab` –Ω–∞–∑–Ω–∞—á–µ–Ω  
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `iconsContainer` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤ –≤ –ø—Ä–µ—Ñ–∞–±–µ `TurnOrderIcon`  
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `frameImage` –Ω–∞–∑–Ω–∞—á–µ–Ω

### –ò–∫–æ–Ω–∫–∏ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `Horizontal Layout Group` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ  
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –∏–∫–æ–Ω–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `RectTransform`

### –ù–µ—Ç —Å–ø—Ä–∞–π—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É `CreatureData` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–µ `sprite`  
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `creatureImage` –Ω–∞–∑–Ω–∞—á–µ–Ω –≤ `TurnOrderIcon`

---

## ‚öôÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### TODO (–≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ):

- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –∏–∫–æ–Ω–æ–∫
- [ ] –ü–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ö–æ–¥–∞
- [ ] –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å –∏–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤–∞
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–¥–æ—Ä–æ–≤—å—è –Ω–∞ –∏–∫–æ–Ω–∫–µ
- [ ] –ò–∫–æ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤/–±–∞—Ñ—Ñ–æ–≤
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —Ö–æ–¥–∞

---

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

